# 의존성 주입
* 의존성 주입의 세가지
  * 필드 -> 주로 실무에서 사용
  * 생성자 -> 주로 실무에서 사용
  * 메서드
##### 예
* ```java
  @Component(modules = PersonModule.class)
  public interface PersonComponent {
    
      PersonA getPersonA();
      void inject(PersonB personB)
  }
  
  ...
  @Module
  public class PersonModule {
  
      @Provides
      String provideName() {
          return "Charles";
      }
      
      @Provides
      int provideAge() {
          return 100;
      }
  }
  
  ...
  public class PersonA { // 생성자 주입
      private String name;
      private int age;
      
      @Inject // 생성자 주입
      public PersonA .. 생성자
          this.name = na...
          this.age ...
      }
      
      ...String getName 메서드
      ...Int getAge 메서드
  }
  
  ...
  public class PersonB { // 필드 주입, 메서드 주입
      @Inject // 필드 주입
      String name;
      private int age;
      
      @Inject // 메서드 주입
      public void setAge(int age) {
          this.age = age;
      }
      
      ..String getName 메서드
      ..Int getAge 메서드
  }
##### 테스트 결과
* ```java
  @Test
  public void testInjection() {
      PersonComponent personComponent = DaggerPersonComponent.create(); // 생성자 주입
      PersonA personA = personComponent.getPersonA();
      System.out.println(personA.getName() + " : " + personA.getAge());
      
      PersonB personB = new PersonB();
      DaggerPersonComponent.create().inject(personB);
      assertEquals("Charles", personB.getName());
      
      assertEquals(100, personB.getAge());
  }
  
  // result :
  // Cahrles:100
  // Cahrles:100

# 상속된 클래스에 의존성 주입
* ```java
  public class PersonC {
      @Inject
      String C;
  }
 
  public class PersonD extends PersonC {
      @Inject
      String D;
  }

  public class PersonE extends PersonD{
     String E;
  }
* ```java
  @Component(modules = PersonModule.class)
  public interface PersonComponent {
     void inject(PersonE personE);
  }
* DaggerPersonComponent.class
  ```java
  ...
  @Override
  public void inject(PersonE personE) {
    injectPersonE(personE);}

  private PersonE injectPersonE(PersonE instance) {
    PersonC_MembersInjector.injectC(instance, PersonModule_ProvideNameFactory.provideName(personModule));
    PersonD_MembersInjector.injectD(instance, PersonModule_ProvideNameFactory.provideName(personModule));
    return instance;
  }
* @Inject 들어가있는것만 작동한다.

### 커스텀 컴포넌트 빌더 또느 팩토리 만들기 ....추가내용은 51Page 참고
* 컴포넌트 빌더
  ```java
  @Component(modules = {BackendModule.class, ForntendModule.class})
      interface MyComponet {
          MyWidget myWidget();
          
          @Component.Builder
          interface Builder {
              Builder backendModule(BackendModule bm);
              Builder frontendModule(FrontendModule fm);
              @BindsInstance
              Builder foo(Foo foo);
              MyComponent build();
      }
  }
  

 


